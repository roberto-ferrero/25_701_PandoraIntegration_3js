<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pandora Map</title>
    <link rel="stylesheet" href="./assets/map3d/style.css"> 
</head>
<body>

    <div id="webgl_app" style="width: 100%; height: 100vh;"></div>
    <div id="tooltip" style="
            position: fixed; 
            pointer-events: none; 
            display: none; 
            background: rgba(0, 0, 0, 0.8); 
            color: white; 
            padding: 8px 12px; 
            border-radius: 4px; 
            font-family: Arial, sans-serif; 
            font-size: 12px; 
            z-index: 1000;
        ">
    </div>


    <script src="./assets/map3d/bundle.js"></script>

    <script>
        // Esperar a que el DOM esté listo
        document.addEventListener('DOMContentLoaded', () => {
            console.log("Window loaded, initializing PandoraMap...");
            // "PandoraMap" es el nombre que definimos en webpack.output.library.name
            if (window.PandoraMap) {
                window.PandoraMap.init({
                    $container: document.querySelector('#webgl_app'),
                    $mouseEvents: document.querySelector('#webgl_app'),
                    loader_pathPrefix: "./assets/map3d/", // Ruta relativa a sus assets si fuera necesario
                    cities_dataPath: "./assets/map3d/data/cities.json",
                    shops_dataPath: "./assets/map3d/data/shops.json",
                    events_dataPath: "./assets/map3d/data/events.json"
                });
                // window.PandoraMap.emitter.on("onClickCity", (event) => {
                //     // alert(`Ciudad clickeada: ${event.id}`);
                // });
            } else {
                console.error("La librería PandoraMap no se cargó correctamente.");
            }

        });
    </script>
</body>
</html>